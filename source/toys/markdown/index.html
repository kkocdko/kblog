<!DOCTYPE html>

<head>
  <base href="/toy/markdown/" />
  <script
    :name="Markdown"
    :description="Simple markdown preview."
    :version="0.2.5"
    src="../veps.js"
  ></script>
  <link
    rel="stylesheet"
    href="//registry.npmmirror.com/github-markdown-css/5.5.0/files/github-markdown.css"
  />
  <script src="//registry.npmmirror.com/marked/11.1.0/files/marked.min.js"></script>
</head>

<style>
  #\$i {
    width: 100%;
    height: 60vh;
    padding: 5px;
    margin-bottom: -5px;
    font-family: monospace;
    resize: vertical;
    border: 1px solid #777;
  }
  #\$o {
    --color-canvas-default: #0000;
  }
  #\$tips {
    padding: 0 5px;
    margin: 0;
    color: #fffd;
    background: #e08700f0;
    opacity: 0;
    animation: tips cubic-bezier(1, -0.5, 0.5, 1) 3s;
  }
  @keyframes tips {
    0% {
      opacity: 1;
    }
  }
</style>

<body>
  <textarea id="$i" placeholder="Markdown input" spellcheck="false"></textarea>
  <p id="$tips">Click here to toggle input box</p>
  <div id="$o" class="markdown-body"></div>
</body>

<script>
  $tips.onclick = () => void ($i.style.display = $i.offsetHeight ? "none" : "");
  $i.oninput = () => void ($o.innerHTML = marked.parse($i.value));
  $i.oninput();
</script>
