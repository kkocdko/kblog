```
title: 不便携的有道词典便携版
date: 2018-06-06 19:49:20
category: Software
tags: English Study Dictionary
description: 包含常用离线词典，去除非会员下载限制
```

> 侵删。

### Instruction

![001](/res/20180606-194920-001.webp)

* 包含常用离线词典，可在离线状态下使用。详见[关于离线词典](#about-local-dictionary)。

* 去除：
    * 所有广告
    * 词典下载限制（非会员登录也可下载会员词典，详见[关于离线词典](#about-local-dictionary)）
    * Mini模式
    * 浏览器集成扩展
    * 主窗口左侧“有道精品课”等推广按钮
    * **划词翻译、截屏翻译、屏幕取词**
    * 除英语外所有自带词库
    * 离线时词条页面底部“网络不可用”提示横幅
    * 主窗口波浪背景图
    * 部分无效图片资源
    * ffmpeg、flash等使用较少的组件
    * 用户反馈、满意度调查、崩溃报告与遥测
    * 检查更新与版本升级
    * 未启用取词时切换托盘图标

* 默认设置：
    * 无热键
    * 禁用大部分首次使用引导提示弹窗
    * 点击关闭按钮最小化到托盘

* 词条页面鼠标悬停于喇叭按钮时不触发语音播放。

* 替换主图标为无“有道”字样的图标。

* 修改最小窗口大小至`551x450`。

* 修改默认首页英文谚语为“It's never too old to learn”。

* 使用`clean-css`、`terser`和`leanify`压缩UI相关文件，略微提升启动速度。

#### About Local Dictionary

集成的离线数据包有：

|Name|
|-|
|同近义词|
|词组短语|
|美式离线语音库|
|英英释义|
|21世纪大英汉词典|
|英汉互译离线数据包|

在此感谢某位同学，她给我提供了用作测试的有道词典会员账号。在这里，我憋着笑，为她默哀3幺秒。这是因为——

不知是Bug或是<del>出于坑用户的考虑</del>，无论你是否为会员，是否下载了离线词典，在**离线**查询英文单词时，都会和平常一样，只显示“简明释义”。

本人测试了多个版本的有道词典桌面客户端，发现`7.x`及更早版本无此问题，所有已下载离线词典都能正常使用。但从`8.1`起，仅有“21世纪大英汉词典”、“现代汉语词典”和某些有道私有词库能离线使用。自`8.4`或`8.5`版本后，也许是由于合约到期，“21世纪大英汉词典”被下架，但只要不手动删除，还能继续使用；同时，自`6.x`版本开始的无法使用离线语音库的问题被修复。

综上，此修改版的确是完美去除了词典下载限制，部分离线词典失效不是修改技术的问题，是原版既有的问题。

所以本人从`8.1`版本中抽取了“21世纪大英汉词典”进行集成。目前所有集成的离线数据包都能正常使用。

### Modify Method

* 去除广告和其他不顺眼的UI组件：`strings.xml`中搜索要去掉的元素上显示的文字，复制对应的Key，搜索所有UI相关文件，按需删除即可。对于动态渲染的元素，可以修改js，删除相关代码，或者render一个空元素。

* 避免鼠标悬停于词条页面喇叭按钮时触发语音播放：`app.js`中搜索`disable-hover`，然后找到用hover触发click的代码并删除。

* 实现任意账号下载会员词典：`app.js`中搜索`var n={isVip:`和`set("dict_vipInfo"`，直接将`isVip`和`expire`写死为`true`。

### Download

<https://pan.baidu.com/s/1bTxBU-NpvneQKTCcLg1oFw>

### Update History

#### 20191026

* 更新启动器，修复启动时窗口失焦的问题。

* 精简`app.css`，略微提升启动速度。

#### 20191016

* 修改最小窗口大小。

* 去除一堆本人用不到的组件。

* 修复由于修改失误而导致的某些功能触发Crash。

#### 20190816

* 更新版本到`8.5.3.0`（肉眼可见的离线冷启动首次查询速度提升；似乎修复了无故Crash的问题）。

* 去除一些无用组件和不必要的限制。

* 由官方原版进行修改，不再依赖“飞扬时空”的修改版（存在着托盘图标错位，点击关闭按钮时Crash导致设置无法保存等问题）。

* 更新启动器。

* 其他修改。

#### 20190524

* 更新启动器。

* 不再提供无离线词典版。

#### 20181003

* 更新版本到`8.4.0.0`（原生支持字体调整及窗口最大化）。

* 再次提供无离线词典版，方便增量更新。

* 未更新离线词典。若已下载旧版本，可以用无离线词典版覆盖更新。

#### 20180908

* 更新启动器，“便携化”成为了可选选项。

#### 20180706

* 修改左侧栏背景，使得软件配色更贴近Win10。

* 重新压缩所有PNG图片（Method 9），减小体积。

* 删除部分老旧的皮肤图片资源，减小体积。

* 更新版本到`8.1.2.0`（又把减小的体积补回来了）。

* 不再提供无离线词典版。

#### 20180606

* 首个版本。
